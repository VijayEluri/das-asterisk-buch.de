<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE note PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<!-- AUTO-GENERATED FILE. DO NOT EDIT. -->
<note lang="en" revision="$Revision$">

  <formalpara>
    <title>Internal help for this function in Asterisk 1.4:</title>

    <para><screen lang="en-US">  -= Info about function &apos;CDR&apos; =-

[Syntax]
CDR(&lt;name&gt;[|options])

[Synopsis]
Gets or sets a CDR variable

[Description]
Options:
  &apos;l&apos; uses the most recent CDR on a channel with multiple records
  &apos;r&apos; searches the entire stack of CDRs on the channel
  &apos;u&apos; retrieves the raw, unprocessed value
  For example, &apos;start&apos;, &apos;answer&apos;, and &apos;end&apos; will be retrieved as epoch
  values, when the &apos;u&apos; option is passed, but formatted as YYYY-MM-DD HH:MM:SS
  otherwise.  Similarly, disposition and amaflags will return their raw
  integral values.
  Here is a list of all the available cdr field names:
    clid          lastdata       disposition
    src           start          amaflags
    dst           answer         accountcode
    dcontext      end            uniqueid
    dstchannel    duration       userfield
    lastapp       billsec        channel
  All of the above variables are read-only, except for accountcode,
  userfield, and amaflags. You may, however,  supply
  a name not on the above list, and create your own
  variable, whose value can be changed with this function,
  and this variable will be stored on the cdr.
   raw values for disposition:
       1 = NO ANSWER
        2 = BUSY
        3 = FAILED
        4 = ANSWERED
    raw values for amaflags:
       1 = OMIT
       2 = BILLING
       3 = DOCUMENTATION</screen></para>
  </formalpara>

  <formalpara>
    <title>Diff of the internal help from Asterisk 1.2 to 1.4:</title>

    <para><screen lang="en-US" language="diff-u">--- in Asterisk 1.2
+++ in Asterisk 1.4
@@ -7,4 +7,32 @@
   Gets or sets a CDR variable

   [Description]
-  Option &apos;r&apos; searches the entire stack of CDRs on the channel
+  Options:
+    &apos;l&apos; uses the most recent CDR on a channel with multiple records
+    &apos;r&apos; searches the entire stack of CDRs on the channel
+    &apos;u&apos; retrieves the raw, unprocessed value
+    For example, &apos;start&apos;, &apos;answer&apos;, and &apos;end&apos; will be retrieved as epoch
+    values, when the &apos;u&apos; option is passed, but formatted as YYYY-MM-DD HH:MM:SS
+    otherwise.  Similarly, disposition and amaflags will return their raw
+    integral values.
+    Here is a list of all the available cdr field names:
+      clid          lastdata       disposition
+      src           start          amaflags
+      dst           answer         accountcode
+      dcontext      end            uniqueid
+      dstchannel    duration       userfield
+      lastapp       billsec        channel
+    All of the above variables are read-only, except for accountcode,
+    userfield, and amaflags. You may, however,  supply
+    a name not on the above list, and create your own
+    variable, whose value can be changed with this function,
+    and this variable will be stored on the cdr.
+     raw values for disposition:
+         1 = NO ANSWER
+          2 = BUSY
+          3 = FAILED
+          4 = ANSWERED
+      raw values for amaflags:
+         1 = OMIT
+         2 = BILLING
+         3 = DOCUMENTATION</screen></para>
  </formalpara>

  <formalpara>
    <title>Diff of the internal help from Asterisk 1.4 to 1.6:</title>

    <para><screen lang="en-US" language="diff-u">--- in Asterisk 1.4
+++ in Asterisk 1.6
@@ -1,7 +1,7 @@
     -= Info about function &apos;CDR&apos; =-

   [Syntax]
-  CDR(&lt;name&gt;[|options])
+  CDR(&lt;name&gt;[,options])

   [Synopsis]
   Gets or sets a CDR variable
@@ -10,6 +10,8 @@
   Options:
     &apos;l&apos; uses the most recent CDR on a channel with multiple records
     &apos;r&apos; searches the entire stack of CDRs on the channel
+    &apos;s&apos; skips any CDR&apos;s that are marked &apos;LOCKED&apos; due to forkCDR() calls.
+        (on setting/writing CDR vars only)
     &apos;u&apos; retrieves the raw, unprocessed value
     For example, &apos;start&apos;, &apos;answer&apos;, and &apos;end&apos; will be retrieved as epoch
     values, when the &apos;u&apos; option is passed, but formatted as YYYY-MM-DD HH:MM:SS
@@ -27,11 +29,13 @@
     a name not on the above list, and create your own
     variable, whose value can be changed with this function,
     and this variable will be stored on the cdr.
+    For setting CDR values, the &apos;l&apos; flag does not apply to
+    setting the accountcode, userfield, or amaflags.
      raw values for disposition:
          1 = NO ANSWER
-          2 = BUSY
-          3 = FAILED
-          4 = ANSWERED
+         2 = BUSY
+         3 = FAILED
+         4 = ANSWERED
       raw values for amaflags:
          1 = OMIT
          2 = BILLING</screen></para>
  </formalpara>

</note>
