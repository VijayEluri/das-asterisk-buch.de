<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="functions-timeout" lang="en" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

    <title><literal>TIMEOUT()</literal><indexterm significance="preferred">
        <primary>Dialplan Functions</primary>

        <secondary><code>TIMEOUT()</code></secondary>
      </indexterm></title>

    <synopsis>TIMEOUT(<replaceable>type</replaceable>)</synopsis>

    <para>Reads/sets a timeout on the channel. The following types are
    permitted:<variablelist termlength="10">
        <varlistentry>
          <term><code>absolute</code></term>

          <listitem>
            <simpara>The absolute, maximum duration of a call. Once reached,
            the call is passed to the extension <code>T</code>, if it exists,
            or hung up. A value of 0 is the same as no timeout. When this
            function is called, the existing setting is reset and overwritten.
            The timeout counter starts when this function is called, not when
            the call begins.</simpara>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><code>digit</code></term>

          <listitem>
            <simpara>The maximum time allowed between entry of digits. If
            exceeded, user input is deemed to have finished. If the resulting
            extension does not exist, the call is passed to the extension
            <code>i</code> (invalid), if it exists, or hung up. The default is
            5 seconds.</simpara>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><code>response</code></term>

          <listitem>
            <simpara>The maximum time to wait for input from a user. If the
            user does not enter an extension, the call is passed to extension
            <code>t</code> (timeout), if it exists, or the call is hung up.
            Default: 10 seconds.</simpara>
          </listitem>
        </varlistentry>
      </variablelist><programlisting>; Check the absolute timeout:
exten =&gt; 123,1,Set(foo=${TIMEOUT(absolute)})

; Limit call duration to a maximum of 60 seconds:
exten =&gt; 123,1,Set(TIMEOUT(absolute)=60)
exten =&gt; 123,n,Dial(SIP/${EXTEN})
exten =&gt; T,1,Playback(sorry-dude) 
exten =&gt; T,n,Playback(buh-bye) 
exten =&gt; T,n,Hangup()</programlisting></para>

    <xi:include href="timeout-help.xml" parse="xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(/note/*)" />
</section>
