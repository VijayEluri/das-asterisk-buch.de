<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-read" lang="en" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

    <title><literal>Read()</literal></title>

    <indexterm significance="preferred">
      <primary>Dialplan Applications</primary>

      <secondary><code>Read()</code></secondary>
    </indexterm>

    <simpara>Reads DTMF input from a caller and assigns the result to a
    variable.</simpara>

    <synopsis><command>Read(<replaceable>variable</replaceable>[,<replaceable>filename</replaceable>[,<replaceable>maxDigits</replaceable>[,<replaceable>option</replaceable>[,<replaceable>attempts</replaceable>[,<replaceable>timeout</replaceable>]]]]])</command></synopsis>

    <simpara>Reads a DTMF sequence ending in <code>"#"</code> from the caller
    and places it in the specified variable.</simpara>

    <simpara>If <replaceable>filename</replaceable> is specified (without file
    extension!), this audio file is played back to the caller before input is
    read.</simpara>

    <simpara>The argument <replaceable>maxDigits</replaceable> defines the
    maximum number of digits allowed. If provided, the application stops
    reading when this number of digits has been entered, without the caller
    having to enter <code>"#"</code> to end the call. The default setting is 0
    and means there is no preset limit and "<code>#</code>" is expected; the
    absolute maximum number of digits allowed is 255.</simpara>

    <simpara>The option <code>skip</code> causes the application to end
    immediately if the channel is inactive. The option <code>noanswer</code>
    enables reading even if the channel is inactive.</simpara>

    <simpara>The caller has up to <replaceable>attempts</replaceable> attempts
    within <replaceable>timeout</replaceable> seconds to enter a sequence. A
    <replaceable>timeout</replaceable> of zero means there is no time
    limit.</simpara>

    <simpara>Returns -1 if the channel is hung up, otherwise returns
    0.</simpara>

    <programlisting>; Read a 4 digit number, allowing up to 3 attempts, and say this number back to the caller:
exten =&gt; 123,1,Read(NUMBER,,4,3)
exten =&gt; 123,n,SayNumber(${NUMBER})
exten =&gt; 123,n,Goto(1)</programlisting>

    <xi:include href="read-help.xml" parse="xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(/note/*)" />

    <formalpara>
      <title>See also</title>

      <para><xref linkend="applications-senddtmf" /></para>
    </formalpara>
</section>
