<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-set" lang="en" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

    <title><literal>Set()</literal></title>

    <indexterm significance="preferred">
      <primary>Dialplan Applications</primary>

      <secondary><code>Set()</code></secondary>
    </indexterm>

    <simpara>Sets a variable to the specified value.</simpara>

    <synopsis><command>Set(<replaceable>variable</replaceable>=<replaceable>value</replaceable>[,<replaceable>variable2</replaceable>=<replaceable>value2</replaceable>,...][,<replaceable>options</replaceable>])</command></synopsis>

    <simpara>Sets the variable to the specified value. If the variable name
    starts with <code>"_"</code>, single inheritance is set
    (<emphasis>i.e.</emphasis> the variable is inherited by any channels
    opened from this channel); if it begins with <code>"__"</code>, unlimited
    inheritance is set (i.e. all children of this channel, regardless of
    generation, inherit the variable). Up to 24 variables may be set.
    Variables are valid only in the channel and are cancelled when the channel
    is hung up. Option <code>g</code> sets a global variable in Asterisk 1.2;
    in 1.4 this is accomplished with the Asterisk function
    <code>GLOBAL()</code>.</simpara>

    <programlisting>; Set a variable TEST to "123":
exten =&gt; 123,1,Set(TEST=123)
exten =&gt; 123,n,SayDigits(${TEST})

; Set a global variable TEST2 to "456":
exten =&gt; 123,n,Set(TEST2=456,g)         ; Asterisk 1.2
exten =&gt; 123,n,Set(GLOBAL(TEST2)=456)   ; Asterisk 1.4</programlisting>

    <note>
      <para>Whether global variables are cleared upon
      <command>reload</command> depends on the setting of
      <code>clearglobalvars</code> in
      <filename>extensions.conf</filename>.</para>
    </note>

    <simpara><code><command>Set()</command></code> is also used to write to
    functions (see <xref linkend="functions" />).</simpara>

    <programlisting>exten =&gt; 123,1,Set(CALLERID(name)=Widgets)  ; set CALLERID(name)
exten =&gt; 123,n,Set(CALLERID(name)=)         ; clear CALLERID(name)

exten =&gt; 123,n,Set(DB(my/test)=ok)         ; write a value to the AstDB
exten =&gt; 123,n,Set(var=${DB(my/test)})     ; read a value from the AstDB</programlisting>

    <xi:include href="set-help.xml" parse="xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(/note/*)" />

    <formalpara>
      <title>See also</title>

      <para><xref linkend="applications-importvar" />,
      <filename>doc/README.variables</filename> (1.2) /
      <filename>doc/channelvariables.txt</filename> (1.4), <xref
      linkend="functions-global" /></para>
    </formalpara>
</section>
