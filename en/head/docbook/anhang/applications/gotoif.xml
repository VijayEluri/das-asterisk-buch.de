<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-gotoif" lang="en" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

    <title><literal>GotoIf()</literal></title>

    <indexterm significance="preferred">
      <primary>Dialplan Applications</primary>

      <secondary><code>GotoIf()</code></secondary>
    </indexterm>

    <simpara>Jumps to a specified priority, extension and context if a
    condition is satisfied.</simpara>

    <synopsis><command>GotoIf(<replaceable>condition</replaceable>?<replaceable>labeliftrue</replaceable>:<replaceable>labeliffalse</replaceable>)</command></synopsis>

    <simpara>Hands the currently active channel to the priority specified by
    <replaceable>labeliftrue</replaceable> if the condition is true, or to the
    priority specified in <replaceable>labeliffalse</replaceable> if the
    condition is false. Either <replaceable>labeliftrue</replaceable> or
    <replaceable>labeliffalse</replaceable> may be omitted (in which case
    execution continues with the next priority) but not both! You must include
    the colon delimiter (:).</simpara>

    <para>In this case, a priority can be:<itemizedlist>
        <listitem>
          <simpara>a single priority, <emphasis>e.g.</emphasis>
          <code>10</code></simpara>
        </listitem>

        <listitem>
          <simpara>an extension and a priority, <emphasis>e.g.</emphasis>
          <code>123,10</code></simpara>
        </listitem>

        <listitem>
          <simpara>a context, extension and priority,
          <emphasis>e.g.</emphasis> <code>incoming,123,10</code></simpara>
        </listitem>

        <listitem>
          <simpara>a named priority in the same extension,
          <emphasis>e.g.</emphasis> <code>ok</code></simpara>
        </listitem>
      </itemizedlist></para>

    <programlisting>exten =&gt; 123,1,GotoIf($[ ${test} = 5 ]?ok:no)
exten =&gt; 123,10(ok),Playback(tt-monkeys)
exten =&gt; 123,20(no),Playback(tt-weasels)</programlisting>

    <note>
      <formalpara>
        <title>Internal help for this application in Asterisk 1.4:</title>

        <para><screen>  -= Info about application 'GotoIf' =- 

[Synopsis]
Conditional goto

[Description]
  GotoIf(condition?[labeliftrue]:[labeliffalse]): This application will cause
the calling channel to jump to the specified location in the dialplan based on
the evaluation of the given condition. The channel will continue at
'labeliftrue' if the condition is true, or 'labeliffalse' if the condition is
false. The labels are specified with the same syntax as used within the Goto
application.  If the label chosen by the condition is omitted, no jump is
performed, but execution continues with the next priority in the dialplan.</screen></para>
      </formalpara>

      <formalpara>
        <title>diff output to internal help in Asterisk 1.2:</title>

        <para><screen>- none - </screen></para>
      </formalpara>
    </note>

    <formalpara>
      <title>See also</title>

      <para><xref linkend="applications-goto" />, <xref
      linkend="applications-gotoiftime" />, <xref
      linkend="applications-gosub" />, <xref
      linkend="applications-gosubif" />, <xref
      linkend="applications-macro" /></para>
    </formalpara>
</section>
