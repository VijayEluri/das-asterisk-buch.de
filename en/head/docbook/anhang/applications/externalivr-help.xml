<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE note PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<!-- AUTO-GENERATED FILE. DO NOT EDIT. -->
<note lang="en" revision="$Revision$">

  <formalpara>
    <title>Internal help for this application in Asterisk 1.4:</title>

    <para><screen lang="en-US">  -= Info about application &apos;ExternalIVR&apos; =-

[Synopsis]
Interfaces with an external IVR application

[Description]
  ExternalIVR(command[|arg[|arg...]]): Forks a process to run the supplied command,
and starts a generator on the channel. The generator&apos;s play list is
controlled by the external application, which can add and clear entries
via simple commands issued over its stdout. The external application
will receive all DTMF events received on the channel, and notification
if the channel is hung up. The application will not be forcibly terminated
when the channel is hung up.
See doc/externalivr.txt for a protocol specification.</screen></para>
  </formalpara>

  <formalpara>
    <title>Diff of the internal help from Asterisk 1.2 to 1.4:</title>

    <para><screen lang="en-US" language="diff-u">--- in Asterisk 1.2
+++ in Asterisk 1.4
@@ -4,11 +4,11 @@
   Interfaces with an external IVR application

   [Description]
-    ExternalIVR(command[|arg[|arg...]]): Forks an process to run the supplied command,
+    ExternalIVR(command[|arg[|arg...]]): Forks a process to run the supplied command,
   and starts a generator on the channel. The generator&apos;s play list is
   controlled by the external application, which can add and clear entries
   via simple commands issued over its stdout. The external application
   will receive all DTMF events received on the channel, and notification
   if the channel is hung up. The application will not be forcibly terminated
   when the channel is hung up.
-  See doc/README.externalivr for a protocol specification.
+  See doc/externalivr.txt for a protocol specification.</screen></para>
  </formalpara>

  <formalpara>
    <title>Diff of the internal help from Asterisk 1.4 to 1.6:</title>

    <para><screen lang="en-US" language="diff-u">--- in Asterisk 1.4
+++ in Asterisk 1.6
@@ -4,11 +4,18 @@
   Interfaces with an external IVR application

   [Description]
-    ExternalIVR(command[|arg[|arg...]]): Forks a process to run the supplied command,
-  and starts a generator on the channel. The generator&apos;s play list is
-  controlled by the external application, which can add and clear entries
-  via simple commands issued over its stdout. The external application
-  will receive all DTMF events received on the channel, and notification
-  if the channel is hung up. The application will not be forcibly terminated
-  when the channel is hung up.
+    ExternalIVR(command|ivr://ivrhosti([,arg[,arg...]])[,options]): Either forks a process
+  to run given command or makes a socket to connect to given host and starts
+  a generator on the channel. The generator&apos;s play list is controlled by the
+  external application, which can add and clear entries via simple commands
+  issued over its stdout. The external application will receive all DTMF events
+  received on the channel, and notification if the channel is hung up. The
+  application will not be forcibly terminated when the channel is hung up.
   See doc/externalivr.txt for a protocol specification.
+  The &apos;n&apos; option tells ExternalIVR() not to answer the channel.
+  The &apos;i&apos; option tells ExternalIVR() not to send a hangup and exit when the
+    channel receives a hangup, instead it sends an &apos;I&apos; informative message
+    meaning that the external application MUST hang up the call with an H command
+  The &apos;d&apos; option tells ExternalIVR() to run on a channel that has been hung up
+    and will not look for hangups.  The external application must exit with
+    an &apos;E&apos; command.</screen></para>
  </formalpara>

</note>
