<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-meetme" lang="en" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

    <title><literal>MeetMe()</literal></title>

    <indexterm significance="preferred">
      <primary>Dialplan Applications</primary>

      <secondary><code>MeetMe()</code></secondary>
    </indexterm>

    <simpara>Places the caller in a MeetMe conference.</simpara>

    <synopsis><command>MeetMe([<replaceable>conference</replaceable>][,<replaceable>options</replaceable>[,<replaceable>PIN</replaceable>]])</command></synopsis>

    <simpara>Connects the caller in the current channel to a MeetMe conference
    defined by <replaceable>conferenceNo</replaceable>. If this is not
    specified, the application asks the caller to enter a conference
    number.</simpara>

    <simpara>If <code>PIN</code> is correctly set to the PIN (personal
    identification number) of the conference (set statically in
    <filename>meetme.conf</filename> or dynamically by the conference
    operator) the caller is placed directly into the conference; otherwise,
    the caller must enter the PIN first.</simpara>

    <important>
      <simpara>MeetMe conferences require a Zaptel interface to be installed
      in the Asterisk server; these provide a time source for synchronization
      of the participating channels. If no Zaptel interface is available, the
      <code>ztdummy</code> driver may be used.</simpara>

      <simpara>MeetMe conferences always use the <code>ulaw</code> codec
      internally. The more conference participants use other codecs such as
      GSM or alaw, the higher the processor load due to transcoding.</simpara>
    </important>

    <simpara>Valid options include:</simpara>

    <variablelist termlength="3">
      <varlistentry>
        <term><code>a</code></term>

        <listitem>
          <simpara>Sets admin mode.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>A</code></term>

        <listitem>
          <simpara>Marks the joining user as a special participant (see
          <code>w</code> and <code>x</code>).</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>b</code></term>

        <listitem>
          <simpara>Starts the AGI script defined in
          <code>${MEETME_AGI_BACKGROUND}</code>,
          <filename>conf-background.agi</filename> by default. (Works only if
          all the channels in the conference are Zap channels.) The script is
          passed all DTMF keypresses; will not work in combination with
          options that also capture DTMF (such as <code>p</code>).</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>c</code></term>

        <listitem>
          <simpara>Announces the number of participants to a joining
          user.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>d</code></term>

        <listitem>
          <simpara>Dynamically allocates a new conference.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>D</code></term>

        <listitem>
          <simpara>Dynamically allocates a new conference but asks the user to
          set a PIN (if no PIN is desired, the user must press
          "<code>#"</code>).</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>e</code></term>

        <listitem>
          <simpara>Selects an empty conference.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>E</code></term>

        <listitem>
          <simpara>Selects an empty conference that does not require a
          PIN.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>i</code></term>

        <listitem>
          <simpara>Announces join and exit of new participants with review
          (works only with Zap channels).</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>I</term>

        <listitem>
          <para>Announces join and exit of new participants without review
          (works only with Zap channels).</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>m</code></term>

        <listitem>
          <simpara>Listen-only mode.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>M</code></term>

        <listitem>
          <simpara>Music-on-hold mode. Plays music-on-hold if there is only
          one participant in the conference.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>o</term>

        <listitem>
          <para>Sets talker optimization. Improves conference quality and
          reduces transcoding overhead by muting participants who are not
          currently speaking.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>p</code></term>

        <listitem>
          <simpara>Participants may leave by pressing
          <code>"#"</code>.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>P</code></term>

        <listitem>
          <simpara>Requests a PIN even if it is provided in the
          command.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>q</code></term>

        <listitem>
          <simpara>Quiet mode. Does not play entry/exit notification
          tones.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>r</code></term>

        <listitem>
          <simpara>Records a conference. File:
          <code>${MEETME_RECORDINGFILE}</code>, format:
          <code>${MEETME_RECORDINGFORMAT}</code>. Default filename is
          <code>meetme-conf-rec-${<replaceable>conference</replaceable>}-${<replaceable>uniqueID</replaceable>}</code>.
          The default format is <code>wav</code>. (Works only with Zap
          channels.)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>s</code></term>

        <listitem>
          <simpara>Switches to menu (user or admin) "*" is pressed.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>t</code></term>

        <listitem>
          <simpara>Talk-only mode.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>T</code></term>

        <listitem>
          <simpara>Talker detection. (Information is sent to the Manager
          interface and displayed in the MeetMe list in the CLI.)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>v</code></term>

        <listitem>
          <simpara>Video mode (not yet implemented).</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>w</code></term>

        <listitem>
          <simpara>Wait until the marked participant joins the conference.
          Until this point, the other participants will hear
          music-on-hold.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>x</code></term>

        <listitem>
          <simpara>Ends the conference when the last marked participant exits
          (see <code>A</code>).</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>X</code></term>

        <listitem>
          <simpara>Participants may exit the conference by dialling a
          single-digit extension in the <code>${MEETME_EXIT_CONTEXT}</code>
          context, or the current context if this variable is not defined.
          Option <code>X</code> does not work with <code>p</code> or
          <code>s</code>.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>1</term>

        <listitem>
          <para>Does not play the "You are currently the only person in this
          conference" message when the first conference participant
          enters.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <simpara>You can use <code>e</code> (or <code>E</code>) together with
    <code>d</code> (or <code>D</code>) to dynamically open a new conference.
    This means you will have to find a way of distributing the conference
    number to the other users, or employ some dialplan logic to accomplish the
    same objective.</simpara>

    <note>
      <para>The options <code>d</code> or <code>D</code>
      <emphasis>dynamically</emphasis> open conferences; conferences are
      defined <emphasis>statically</emphasis> in
      <filename>meetme.conf</filename>.</para>
    </note>

    <programlisting>exten =&gt; 123,1,Answer()
; Place the caller in conference 333 (with PIN 1234):
exten =&gt; 123,n,MeetMe(333,DpM,1234)</programlisting>

    <formalpara>
      <title>See also</title>

      <para><xref linkend="applications-meetmeadmin" />, <xref
      linkend="applications-meetmecount" /></para>
    </formalpara>

    <formalpara>
      <title>Commands in the CLI</title>

      <para>The following commands are for administering conferences from the
      CLI. (The value <code><replaceable>participant</replaceable></code> is
      the number of participant as displayed in the participant
      list):<variablelist>
          <?dbfo list-presentation="blocks"?>

          <varlistentry>
            <term><code>MeetMe</code></term>

            <listitem>
              <simpara>List all conferences.</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe list
            <replaceable>conference</replaceable></code></term>

            <listitem>
              <simpara>List the participants in the specified
              conference.</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe kick <replaceable>conference</replaceable>
            <replaceable>participant</replaceable></code></term>

            <listitem>
              <simpara>Kicks a participant out of the conference.</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe kick
            <replaceable>conference</replaceable></code></term>

            <listitem>
              <simpara>Kicks all participants out of the conference.</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe lock
            <replaceable>conference</replaceable></code></term>

            <listitem>
              <simpara>Locks a conference to new participants.</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe unlock
            <replaceable>conference</replaceable></code></term>

            <listitem>
              <simpara>Unlocks a previous lock (see above).</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe mute <replaceable>conference</replaceable>
            <replaceable>participant</replaceable></code></term>

            <listitem>
              <simpara>Mute a conference participant.</simpara>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><code>MeetMe unmute <replaceable>conference</replaceable>
            <replaceable>participant</replaceable></code></term>

            <listitem>
              <simpara>Unmute a conference participant (see above).</simpara>
            </listitem>
          </varlistentry>
        </variablelist></para>
    </formalpara>

    <xi:include href="meetme-help.xml" parse="xml" xmlns:xi="http://www.w3.org/2001/XInclude" xpointer="xpointer(/note/*)" />
</section>
