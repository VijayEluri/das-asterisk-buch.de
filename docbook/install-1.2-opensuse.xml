<?xml version="1.0" encoding="UTF-8"?>
<section id="installation-1.2-opensuse" lang="de" revision="$Revision: 1.6 $">
  <!--% Copyright (c) 2006 - Stefan Wintermeyer <sw@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de-->

  <title>Installation Asterisk 1.2.x auf OpenSUSE Linux</title>

  <para>Diese Installationsanleitung setzt ein aktuelles OpenSUSE 10.2 aus dem
  stabilen Entwicklungszweig voraus. Falls Sie nicht bereits eine fertig
  installierte OpenSUSE-Distribution haben, können Sie sich die entsprechenden
  Installationsmedien auf folgender Seite herunterladen: <ulink
  url="http://cdimage.debian.org/debian-cd/3.1_r4/i386/iso-cd/debian-31r4-i386-netinst.iso"><citetitle>http://de.opensuse.org/Stabile_Version</citetitle></ulink>.</para>

  <para>Um Asterisk zu kompilieren, benötigen Sie einige zusätzliche Pakete.
  Diese können Sie mit dem SuSE Administrationstool YaST installieren. Bitte
  starten Sie dazu YaST.</para>

  <para>Wählen Sie im Installationsfenster als Filter "Schemata" aus, dort
  finden Sie dann als installierbare Schemata unter "Entwicklung" die Einträge
  "Grundlegende Entwicklung", "C/C++ Entwicklung" und
  "Linux-Kernel-Entwicklung".</para>

  <screenshot>
    <screeninfo></screeninfo>

    <mediaobject>
      <imageobject>
        <imagedata fileref="screenshots/opensuse-yast1.png" />
      </imageobject>
    </mediaobject>
  </screenshot>

  <para>Wechseln Sie dann wieder auf "Suchen" als Filter und suchen Sie nach
  folgenden Stichworten: "openssl, krb5, ncurses, zlib". Installieren Sie
  jeweils das gleichnamige Paket, als auch das mit dem Zusatz "devel", also
  z.B. "openssl" und "openssl-devel". Nach erfolgreicher Einrichtung der
  Buildumgebung können dann im nächsten Schritt die Asterisk-Sourcen
  heruntergeladen und kompiliert werden.</para>

  <screenshot>
    <screeninfo></screeninfo>

    <mediaobject>
      <imageobject>
        <imagedata fileref="screenshots/opensuse-yast2.png" />
      </imageobject>
    </mediaobject>
  </screenshot>

  <para>Auf der Asterisk-Homepage <ulink
  url="http://www.asterisk.org/"><citetitle>http://www.asterisk.org/</citetitle></ulink>
  finden Sie die notwendigen Quellen, um Asterisk zu kompilieren. Nehmen Sie
  bitte eine stabile und keine Entwickler-Version und laden Sie diese mit
  <command>wget
  http://ftp.digium.com/pub/asterisk/asterisk-1.2-current.tar.gz</command> in
  das Verzeichnis <filename>/usr/src/</filename> herunter:</para>

  <screen>linux:~# cd /usr/srcyyy123yyysw
linux:/usr/src# wget http://ftp.digium.com/pub/asterisk/asterisk-1.2-current.tar.gzyyy123yyysw
--18:30:46--  http://ftp.digium.com/pub/asterisk/asterisk-1.2-current.tar.gzyyy123yyysw
           =&gt; `asterisk-1.2-current.tar.gz'yyy123yyysw
Auflösen des Hostnamen »ftp.digium.com«.... 69.16.138.164yyy123yyysw
Verbindungsaufbau zu ftp.digium.com[69.16.138.164]:80... verbunden.yyy123yyysw
HTTP Anforderung gesendet, warte auf Antwort... 200 OKyyy123yyysw
Länge: 10,584,113 [application/x-gzip]yyy123yyysw
yyy123yyysw
100%[====================================&gt;] 10,584,113   224.71K/s    ETA 00:00yyy123yyysw
yyy123yyysw
18:31:36 (207.67 KB/s) - »asterisk-1.2-current.tar.gz« gespeichert [10584113/10584113]yyy123yyysw
</screen>

  <para>Die komprimierte Datei muss jetzt mit <command>tar xvzf
  asterisk-1.2-current.tar.gz</command> entpackt werden:<screen>linux:/usr/src# tar xvzf asterisk-1.2-current.tar.gz yyy123yyysw
asterisk-1.2.13/yyy123yyysw
asterisk-1.2.13/build_tools/yyy123yyysw
asterisk-1.2.13/build_tools/make_svn_branch_nameyyy123yyysw
asterisk-1.2.13/build_tools/mkdepyyy123yyysw
asterisk-1.2.13/build_tools/make_build_hyyy123yyysw
asterisk-1.2.13/build_tools/make_version_hyyy123yyysw
asterisk-1.2.13/build_tools/make_defaults_hyyy123yyysw
asterisk-1.2.13/aesopt.hyyy123yyysw
asterisk-1.2.13/utils.cyyy123yyysw
asterisk-1.2.13/keys/yyy123yyysw
[...]yyy123yyysw
asterisk-1.2.13/cli.cyyy123yyysw
asterisk-1.2.13/io.cyyy123yyysw
asterisk-1.2.13/ulaw.cyyy123yyysw
asterisk-1.2.13/logger.cyyy123yyysw
linux:/usr/src# yyy123yyysw</screen></para>

  <para>Die entpackten Dateien müssen jetzt kompiliert werden.<footnote>
      <para>Die Linux-Cracks unter den Lesern mögen mir diese starke
      Vereinfachung verzeihen.</para>
    </footnote>Dies geschieht mit dem Befehl <command>make</command> im gerade
  entpackten Verzeichnis.<warning>
      <para>Bitte achten Sie darauf, dass die hier in der Dokumentation
      benutzte Version 1.2.13 vielleicht zum Zeitpunkt Ihrer Installation
      nicht mehr aktuell ist. Entsprechend werden sich die Verzeichnisnamen
      ändern.</para>
    </warning>Übrigens ist dies jetzt vielleicht ein guter Moment, sich einen
  Kaffee oder Tee zu kochen. Der Kompiliervorgang kann je nach Rechenleistung
  des PCs wenige Minuten oder bis zu einer Stunde dauern.</para>

  <screen>linux:/usr/src# cd asterisk-1.2.13yyy123yyysw
linux:/usr/src/asterisk-1.2.13# makeyyy123yyysw
if cmp -s .cleancount .lastclean ; then echo ; else \yyy123yyysw
        make clean; cp -f .cleancount .lastclean;\yyy123yyysw
yyy123yyysw
[...]yyy123yyysw
yyy123yyysw
make[1]: Nothing to be done for `all'.yyy123yyysw
make[1]: Leaving directory `/usr/src/asterisk-1.2.13/stdtime'yyy123yyysw
 +--------- Asterisk Build Complete ---------+yyy123yyysw
 + Asterisk has successfully been built, but +yyy123yyysw
 + cannot be run before being installed by   +yyy123yyysw
 + running:                                  +yyy123yyysw
 +                                           +yyy123yyysw
 +               make install                +yyy123yyysw
 +-------------------------------------------+yyy123yyysw</screen>

  <para>Die Software ist jetzt kompiliert und muss nur noch mit <command>make
  install</command> installiert (sprich in die richtigen Verzeichnisse
  kopiert) werden:</para>

  <screen>linux:/usr/src/asterisk-1.2.13# make installyyy123yyysw
build_tools/make_version_h &gt; include/asterisk/version.h.tmpyyy123yyysw
if cmp -s include/asterisk/version.h.tmp include/asterisk/version.h ; yyy123yyysw
then echo;yyy123yyysw
yyy123yyysw
[...]yyy123yyysw
yyy123yyysw
 +---- Asterisk Installation Complete -------+yyy123yyysw
 +                                           +yyy123yyysw
 +    YOU MUST READ THE SECURITY DOCUMENT    +yyy123yyysw
 +                                           +yyy123yyysw
 + Asterisk has successfully been installed. +yyy123yyysw
 + If you would like to install the sample   +yyy123yyysw
 + configuration files (overwriting any      +yyy123yyysw
 + existing config files), run:              +yyy123yyysw
 +                                           +yyy123yyysw
 +               make samples                +yyy123yyysw
 +                                           +yyy123yyysw
 +-----------------  or ---------------------+yyy123yyysw
 +                                           +yyy123yyysw
 + You can go ahead and install the asterisk +yyy123yyysw
 + program documentation now or later run:   +yyy123yyysw
 +                                           +yyy123yyysw
 +              make progdocs                +yyy123yyysw
 +                                           +yyy123yyysw
 + **Note** This requires that you have      +yyy123yyysw
 + doxygen installed on your local system    +yyy123yyysw
 +-------------------------------------------+yyy123yyysw</screen>

  <para>Die eben kompilierten Programmdateien sind jetzt auf dem System
  installiert. Allerdings finden wir im Asterisk-Konfigurationsverzeichnis
  <filename>/etc/asterisk/</filename> noch gähnende Leere vor. In diesem
  Verzeichnis liegen die Konfigurationsdateien von Asterisk und da wir nicht
  von Null beginnen möchten, lassen wir uns die Standarddateien erstellen.
  Dies erreichen wir mit einem <command>make samples</command>:</para>

  <screen>linux:/usr/src/asterisk-1.2.13# make samplesyyy123yyysw
build_tools/make_version_h &gt; include/asterisk/version.h.tmpyyy123yyysw
if cmp -s include/asterisk/version.h.tmp include/asterisk/version.h ; yyy123yyysw
then echo;yyy123yyysw
yyy123yyysw
[...]yyy123yyysw
yyy123yyysw
doneyyy123yyysw</screen>

  <para>Fertig! Asterisk ist auf Ihrem System installiert. Mit dem Befehl
  <command>asterisk -V</command> können Sie die installierte Version
  herausfinden (bitte achten Sie darauf, dass es sich um ein großgeschriebenes
  V handelt):<screen>linux:/usr/src/asterisk-1.2.13# asterisk -Vyyy123yyysw
Asterisk 1.2.13yyy123yyysw</screen></para>
</section>