<?xml version="1.0" encoding="ISO-8859-1"?>
<chapter id="deutsche-anpassungen" lang="de" revision="$Revision: 1.9 $">
  <!--% Copyright (c) 2007
% - Stefan Wintermeyer <sw@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de -->

  <title>Deutsche Anpassungen</title>

  <para>Asterisk ist ein US-amerikanisches Produkt. Allerdings kann man die
  für den Endbenutzer relevanten Teile für deutsche User anpassen.</para>

  <section id="toene-und-signale">
    <title>Töne und Signale</title>

    <para>In einer Standard-Asterisk-Installation werden Besetzt- und
    Freizeichen (und noch ein paar andere Signaltöne) nach amerikanischem
    Muster ausgegeben. Um dies auf deutsche Signale umzustellen, muss man nur
    in der Konfigurationsdatei
    <filename>/etc/asterisk/indications.conf</filename> im Abschnitt
    <code>[general]</code> ein <code>country=de</code>
    einsetzen:<programlisting>[general]
country=de</programlisting></para>
  </section>

  <section id="deutsche-sprachbausteine">
    <title>Deutsche Sprachbausteine</title>

    <para>Bei einer Standard-Installation werden im Verzeichnis
    <filename>/var/lib/asterisk/sounds/</filename> nur die
    Original-Sprachbausteine in Englisch abgelegt. Zum Redaktionsschluss
    dieses Buches gab es von Digium alternativ noch französische und spanische
    Prompts (Prompt ist das Asterisk-Wording für Sprachbaustein). Digium hat
    versprochen, deutsche Sprachprompts zu erstellen. Deshalb gibt es in
    diesem Kapitel zwei Teile und einige gedachte Fragezeichen. Die aktuellen
    Informationen zu diesem Thema finden Sie auf der Webseite zum Buch <ulink
    url="http://www.das-asterisk-buch.de"><citetitle>http://www.das-asterisk-buch.de</citetitle></ulink></para>

    <para>Die deutschen Sprachbausteine können in der Konfigurationsdatei der
    benutzen Technologie (z.B. <filename>sip.conf</filename> für SIP) mit dem
    Parameter <parameter>language=de</parameter> aktiviert werden. Dies
    funktioniert entweder global oder nur für einzelne Telefone.</para>

    <para>Beispiel <filename>sip.conf</filename>:<programlisting>[general]
; fuer alle im System
&#8232;language = de

[2000]
type = friend
secret = 1234
host = dynamic
context = from-sip
; nur fuer die 2000
language = de</programlisting></para>

    <section id="verzeichnisstruktur-sprachbausteine">
      <title>Verzeichnisstruktur der Sprachbausteine</title>

      <para>Per default liegen alle Sprachbausteine im Verzeichnis
      <filename>/var/lib/asterisk/sounds/</filename>. Darin gibt es
      Unterverzeichnisse für spezielle Sprachprompts wie
      <filename>digits/</filename> für Zahlen, Uhrzeiten und Wochentage.
      Dieses Verzeichnis sieht dann wie folgt aus:<screen>big-island:/var/lib/asterisk/sounds/digits# ls
0.gsm   2.gsm   8.gsm      day-6.gsm    h-18.gsm  hundred.gsm  mon-7.gsm
1.gsm   20.gsm  80.gsm     de           h-19.gsm  million.gsm  mon-8.gsm
10.gsm  3.gsm   9.gsm      dollars.gsm  h-2.gsm   minus.gsm    mon-9.gsm
11.gsm  30.gsm  90.gsm     h-1.gsm      h-20.gsm  mon-0.gsm    oclock.gsm
12.gsm  4.gsm   a-m.gsm    h-10.gsm     h-3.gsm   mon-1.gsm    oh.gsm
13.gsm  40.gsm  at.gsm     h-11.gsm     h-30.gsm  mon-10.gsm   p-m.gsm
14.gsm  5.gsm   day-0.gsm  h-12.gsm     h-4.gsm   mon-11.gsm   pound.gsm
15.gsm  50.gsm  day-1.gsm  h-13.gsm     h-5.gsm   mon-2.gsm    star.gsm
16.gsm  6.gsm   day-2.gsm  h-14.gsm     h-6.gsm   mon-3.gsm    thousand.gsm
17.gsm  60.gsm  day-3.gsm  h-15.gsm     h-7.gsm   mon-4.gsm    today.gsm
18.gsm  7.gsm   day-4.gsm  h-16.gsm     h-8.gsm   mon-5.gsm    tomorrow.gsm
19.gsm  70.gsm  day-5.gsm  h-17.gsm     h-9.gsm   mon-6.gsm    yesterday.gsm</screen></para>

      <para>Sprachprompts anderer Sprachen (also nicht-englische
      Sprachprompts) werden als Unterverzeichnisse mit den jeweiligen
      Sprachkürzeln (<code>de</code> für Deutsch) abgespeichert. Deshalb gibt
      es in diesem Fall sowohl ein
      <filename>/var/lib/asterisk/sounds/de/</filename> wie auch ein
      <filename>/var/lib/asterisk/sounds/digits/de/</filename>.</para>

      <section id="verzeichnisstruktur-sprachbausteine-1.4">
        <title>Asterisk 1.4</title>

        <para>Standardmäßig verhält sich Asterisk 1.4 genauso wie Asterisk
        1.2. Allerdings kann mit der Einstellung
        <parameter>languageprefix=yes</parameter> in der Konfigurationsdatei
        <filename>/etc/asterisk/asterisk.conf</filename> dieses Verhalten auf
        ein neues Muster einstellen. Mit dieser Einstellung erfolgt die
        Verzeichnisstruktur der folgenden Idee:<screen>/var/lib/asterisk/de/sounds/ 
/var/lib/asterisk/de/sounds/digits 
/var/lib/asterisk/de/sounds/wx</screen></para>
      </section>
    </section>

    <section id="sprachprompts-pforzheim">
      <title>Sprachbausteine der Stadt Pforzheim installieren</title>

      <para>Die Stadt Pforzheim hat unter <ulink
      url="http://www.pforzheim.de/asterisk/vprompts.html"><citetitle>http://www.pforzheim.de/asterisk/vprompts.html</citetitle></ulink>
      deutsche Sprachbausteine zum Download zur Verfügung gestellt. Die
      Sprachbausteine sind im GSM-Format und stehen unter der GPL. Bitte
      entpacken Sie die Sprachprompts und kopieren Sie diese in das
      Verzeichnis <filename>/var/lib/asterisk/sounds/</filename>.</para>
    </section>

    <section id="sprachprompts-amooma">
      <title>Sprachbausteine der amooma GmbH installieren</title>

      <para>Die amooma GmbH stellt unter der URL <ulink
      url="http://www.amooma.de/asterisk/service"><citetitle>http://www.amooma.de/asterisk/service</citetitle></ulink>
      deutsche Sprachbausteine zum Download zu Verfügung. Diese sind in
      mehreren Formaten abrufbar und stehen unter der GPL. Bitte entpacken Sie
      die Sprachprompts und kopieren Sie diese in das Verzeichnis
      <filename>/var/lib/asterisk/sounds/</filename>.</para>
    </section>

    <section id="sprachprompts-digium">
      <title>Sprachbausteine von Digium installieren</title>

      <para>Zum Redaktionsschluss dieses Buches gab es noch keine deutschen
      Sprachprompts von Digium. Bitte schauen Sie auf <ulink
      url="http://www.das-asterisk-buch.de"><citetitle>http://www.das-asterisk-buch.de</citetitle></ulink>
      für aktuelle Informationen dazu.</para>
    </section>
  </section>
</chapter>