<?xml version="1.0" encoding="UTF-8"?>
<section id="installation-1.2-freebsd" lang="de" revision="$Revision: 1.2 $">
  <!--% Copyright (c) 2006 - Stefan Wintermeyer <sw@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de-->

  <title>Installation Asterisk 1.2.x auf FreeBSD</title>

  <para>Diese Installationsanleitung setzt ein frisch installiertes FreeBSD
  (aktuell ist Version 6.1) voraus. ISO-Images für eine entsprechende i386er
  FreeBSD-Installation finden Sie unter <ulink
  url="ftp://ftp.freebsd.org/pub/FreeBSD/releases/i386/ISO-IMAGES/6.1/"><citetitle>ftp://ftp.freebsd.org/pub/FreeBSD/releases/i386/ISO-IMAGES/6.1/</citetitle></ulink>.
  Eine Installationsanleitung befindet sich bei <ulink
  url="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/install.html"><citetitle>http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/install.html</citetitle></ulink>.</para>

  <para><emphasis>Nach erfolgreicher Installation melden Sie sich als Benutzer
  root am System an und führen Sie die hier nachfolgend angegebenen Befehle
  aus. Bitte achten Sie darauf, keinen Schritt auszulassen und die Schritte
  als Benutzer root durchzuführen.</emphasis></para>

  <para><warning>
      <para>Da FreeBSD seit dem Release der Version 6.0 aktuelle
      Asterisk-Pakete beinhaltet hat, beschreibt diese Anleitung nicht die
      Installation aus den Asterisk-Quellen, sondern aus dem FreeBSD
      Portage-Tree.</para>
    </warning></para>

  <para>Die Installation erfolgt dabei ganz einfach, einen aktuellen
  Portage-Tree vorausgesetzt, und zwar wie folgt:</para>

  <tip>
    <para>Es gibt verschiedene Möglichkeiten, den Portage-Tree aktuell zu
    halten. Eine Variante besteht in einem Supfile /etc/supfile-ports mit
    folgendem Inhalt: <programlisting>*default host=cvsup6.de.FreeBSD.orgyyy123yyysw
*default base=/usryyy123yyysw
*default prefix=/usryyy123yyysw
*default release=cvs tag=.yyy123yyysw
*default delete use-rel-suffixyyy123yyysw
ports-allyyy123yyysw</programlisting></para>

    <para>Danach kann wie folgt der Portsdb-Index aktualisiert werden:
    <screen>yyy123yyysw
# cvsup -L 2 -g /etc/supfile-portsyyy123yyysw
# portsdb -Uuyyy123yyysw
</screen></para>
  </tip>

  <para>Nach der Aktualisierung des Portage-Trees kann Asterisk dann einfach
  mit dem folgenden Befehl installiert werden:</para>

  <screen>yyy123yyysw
# cd /usr/ports/net/asteriskyyy123yyysw
# make install distcleanyyy123yyysw
</screen>

  <para>Nach der Installation des Basispaketes werden dann die
  Asterisk-Add-ons installiert:</para>

  <screen>yyy123yyysw
# cd /usr/ports/net/asterisk-addonyyy123yyysw
# make install distcleanyyy123yyysw
</screen>

  <warning>
    <para>Wenn ISDN genutzt werden soll, dann empfiehlt sich der Einsatz des
    net/asterisk-bristuff-Paketes anstelle von net/asterisk. Allerdings ist
    die Installation von ISDN und von chan_capi unter FreeBSD nicht trivial
    und wird derzeitig vom Portage System nicht unterstützt. Eine genaue
    Besprechung der Vorgehensweise würde den Rahmen dieses Buches sprengen und
    wird daher hier nicht beschrieben. Digium unterhält eine Asterisk-BSD
    Mailingliste, auf der man weitere Hilfe bekommen kann: <ulink
    url="http://lists.digium.com/mailman/listinfo/asterisk-bsd"><citetitle>http://lists.digium.com/mailman/listinfo/asterisk-bsd</citetitle></ulink>.</para>
  </warning>

  <para>Soll Asterisk beim Booten automatisch starten, so ist in der Datei
  <filename>/etc/rc.conf</filename> die folgende Zeile einzutragen:
  <programlisting>yyy123yyysw
asterisk_enable="YES"yyy123yyysw
</programlisting></para>

  <para><warning>
      <para>Unter FreeBSD werden die Konfigurationsdateien der
      nachinstallierten Softwarepakete unter
      <filename>/usr/local/etc/</filename> gespeichert, um diese von den
      Systemdateien unter <filename>/etc/</filename> zu trennen. Daher liegen
      die Asterisk-Konfigurationsdateien nicht wie oft in diesem Buch
      beschrieben in <filename>/etc/asterisk/</filename>, sondern in
      <filename>/etc/local/etc/asterisk/.</filename></para>
    </warning></para>
</section>