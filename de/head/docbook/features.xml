<?xml version="1.0" encoding="ISO-8859-1"?>
<chapter id="features" lang="de" revision="$Revision$">
  <!--% Copyright (c) 2007
% - Stefan Wintermeyer <sw@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de -->

  <title>Features</title>

  <para>Auch wenn Asterisk extrem mächtig ist, gibt es ein paar im normalen
  Büroalltag notwendige Funktionen, die per Default nicht aktiviert oder aber
  sehr gut versteckt sind. Dieses Kapitel geht auf diese Features ein.</para>

  <section id="transfer">
    <title>Transfer von Gesprächen</title>

    <para>Wer die Applikation <command>Dial()</command> ohne weitere Optionen
    (bzw. Flags) benutzt, kann bestehende Gespräche nicht zu einem anderen
    Telefon transferieren. Dieses Feature muss explizit bei der
    <command>Dial()</command>-Applikation mit der Option <code>t</code>,
    <code>T</code> oder <code>tT</code> aktiviert werden. Wie das genau geht,
    wird in <xref linkend="applications-dial" /> beschrieben. Wer sowohl dem
    Anrufer wie auch dem Angerufenen das Transferieren von Gesprächen erlauben
    will, muss die Optionen <code>tT</code> benutzen.</para>

    <para>Beispiel:<programlisting>exten =&gt; _2XXX,1,Dial(SIP/${EXTEN},tT)</programlisting></para>

    <section id="blind-transfer">
      <title>Blind Transfer</title>

      <para>Der Begriff <quote>Blind Transfer</quote> wird für Transfers
      benutzt, die von einem Teilnehmer ohne Rückfrage zu einem anderen
      Teilnehmer gemacht werden. Diese werden per Default vom Telefonbenutzer
      durch die Eingabe von <code>#1</code> und der Zielrufnummer eingeleitet.
      Wer also das aktuelle Gespräch zum Telefon mit der Nummer 2323
      weiterleiten will, kann dies durch die Eingabe von <code>#12323</code>
      erreichen.</para>

      <para>In der Datei <filename>/etc/asterisk/features.conf</filename> kann
      man im Context <code>[featuremap]</code> die Ziffernkombination für das
      Einleiten eines Blind Transfers anpassen:<programlisting>[featuremap]
blindxfer =&gt; #1         ; Blind transfer</programlisting></para>
    </section>

    <section id="attended-transfer">
      <title>Attended Transfer</title>

      <para>Im Gegensatz zum <quote>Blind Transfer</quote> kann der eine
      Teilnehmer beim <quote>Attended Transfer</quote> mit der Gegenstelle vor
      dem Transfer erst noch sprechen und erst nach dem Auflegen wird das
      Gespräch weitergeleitet. Ein Attended Transfer wird per Default durch
      die Eingabe von <code>*2</code> eingeleitet, gefolgt von der gewünschten
      Zielrufnummer.</para>

      <para>In der Datei <filename>/etc/asterisk/features.conf</filename> kann
      man im Context <code>[featuremap]</code> die Ziffernkombination für das
      Einleiten eines Attended Transfers anpassen:<programlisting>[featuremap]
atxfer =&gt; *2                    ; Attended transfer</programlisting></para>

      <simpara>Sollten Sie für Ihre Geräte Call-Limits verwenden (Anzahl
      gleichzeitig erlaubter Gespräche), beachten Sie, dass ein Attended
      Transfer vorübergehend 2 Leitungen benötigt.</simpara>
    </section>
  </section>

  <section id="park">
    <title id="parking">Gespräche parken</title>

    <para>Um ein laufendes Gespräch auf einer virtuellen Parkposition zu
    parken, muss im aktuellen Context der von Asterisk generierte Context
    <code>parkedcalls</code> <quote>include</quote>d werden.
    Beispiel:<programlisting>[hausmeister]
exten =&gt; _2XXX,1,Dial(SIP/${EXTEN})
include =&gt; parkedcalls</programlisting>Nur wenn dieser Context included
    wurde kann per Default durch Wählen der Tastenkombination
    <code>#700</code> ein Gespräch geparkt werden. Asterisk liest dem
    Teilnehmer dann die Parkposition vor (die man sich merken sollte). Durch
    Wählen dieser Parkposition (z.B. <code>701</code>) kann man das Gespräch
    dann von einem anderen Telefon über das Parksystem wieder
    aufnehmen.<warning>
        <para>Es gibt kein eingebautes Sicherheitssystem beim Parken von
        Gesprächen. Sollte Person A ein Gespräch auf Position 705 parken und
        Person B zufällig die Nummer 705 anrufen, so bekommt sie das geparkte
        Gespräch.</para>
      </warning></para>

    <para>In der Datei <filename>/etc/asterisk/features.conf</filename> kann
    man im Context <code>[general]</code> die Ziffernkombination für das
    Einleiten eines Parkens, die Anzahl der virtuellen Parkpositionen und den
    Namen des zu includenden Contexts anpassen:<programlisting>[general]
parkext =&gt; 700          ; die zum Parken gewählte Extension
parkpos =&gt; 701-720      ; auf welchen Extensions geparkt werden soll
context =&gt; parkedcalls  ; der Context der geparkten Anrufe</programlisting></para>
  </section>
</chapter>