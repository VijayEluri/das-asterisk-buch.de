<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<appendix id="functions" lang="de" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

  <title>Funktionen im Dialplan</title>

  <simpara>Seit Asterisk 1.2 gibt es im Dialplan nicht nur Applikationen,
  sondern auch Funktionen. Anders als Applikationen können Funktionen nicht
  direkt aufgerufen werden. Stattdessen geben sie einen Wert zurück oder - was
  dem klassischen Verständnis einer Funktion widerspricht - man kann auch, in
  Verbindung mit der Applikation <code>Set()</code> (siehe <xref
  linkend="applications-set" />), schreibend auf sie zugreifen. Funktionsnamen
  werden immer ganz in Großbuchstaben geschrieben. Funktionen werden
  erstaunlicherweise wie Variablen durchwegs in <code>${}</code>
  eingeklammert, was notwendig ist, da Strings nicht immer in Hochkommata
  stehen müssen.</simpara>

  <sidebar>
    <simpara>Würde man die in Asterisk nicht unbedingt intuitive Trennung
    zwischen Applikationen, Funktionen und sogar Variablen kritisieren, hätte
    man damit wahrscheinlich nicht ganz unrecht. Auch die Benennung ist nicht
    einheitlich: <code>SIP_HEADER()</code>, aber <code>SIPCHANINFO()</code> -
    ein Problem vieler Programmiersprachen, das letztlich nichts aussagt, aber
    die Einprägsamkeit erschwert. Zudem werden die Zeichen <code>,</code>
    (Komma), <code>&amp;</code> (Und) und <code>|</code> (Pipe) scheinbar
    willkürlich als Trennzeichen verwendet. Die Idee, in Funktionen zu
    <emphasis>schreiben</emphasis>, ist recht ungewöhnlich und weicht vom
    üblichen Verständnis einer Funktion ab.</simpara>

    <simpara>Insgesamt wirkt die Dialplan-Programmierung - trotz der
    Neuerungen in Version 1.4 - im Vergleich zu <quote>richtigen</quote>
    Programmiersprachen sehr starr und wenig erweiterungsfähig. Wen das stört,
    der sollte sich vielleicht mit der - AEL (Asterisk Extension Language)
    befassen, die die gleichen Funktionen und Applikationen verwendet, aber
    eine etwas robustere Struktur bietet und oft übersichtlicher
    ist.</simpara>
  </sidebar>

  <simpara>Im Asterisk-CLI<footnote>
      <para>Command Line Interface, kann durch <command>asterisk -r</command>
      aufgerufen werden</para>
    </footnote> können Sie mit <userinput>show functions</userinput> und
  <userinput>show function
  <replaceable>FUNKTIONSNAME</replaceable></userinput> bzw. <userinput>core
  show functions</userinput> und <userinput>core show function
  <replaceable>Funktionsname</replaceable></userinput> (ja nach
  Asterisk-Version) herausfinden, welche Funktionen in Ihrer Installation
  verfügbar sind. Dabei ist die komplette Großschreibung des Funktionsnamens
  wichtig.</simpara>

  <xi:include href="functions/agent.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/array.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/base64_decode.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/base64_encode.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/callerid.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/cdr.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/channel.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/checksipdomain.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/curl.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/cut.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/db.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/db_delete.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/db_exists.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/dundilookup.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/enumlookup.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/env.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/eval.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/exists.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/fieldqty.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/filter.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/global.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/group.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/group_count.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/group_list.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/group_match_count.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/iaxpeer.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/if.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/iftime.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/isnull.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/keypadhash.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/language.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/len.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/math.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/md5.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/musicclass.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/odbc_sql.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/odbc_user_database.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/queueagentcount.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/queue_member_count.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/queue_member_list.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/quote.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/rand.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/regex.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/set.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/sha1.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/sipchaninfo.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/sippeer.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/sip_header.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/sort.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/stat.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/strftime.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/strptime.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/timeout.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/txtcidname.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/uridecode.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/uriencode.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />

  <xi:include href="functions/vmcount.xml" parse="xml"
              xmlns:xi="http://www.w3.org/2001/XInclude" />
</appendix>