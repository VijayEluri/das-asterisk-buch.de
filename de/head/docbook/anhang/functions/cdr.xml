<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="functions-cdr" lang="de" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

  <title><literal>CDR()</literal><indexterm significance="preferred">
      <primary>Dialplan-Funktionen</primary>

      <secondary><code>CDR()</code></secondary>
    </indexterm></title>

  <synopsis>CDR(<replaceable>Feld</replaceable>)</synopsis>

  <para>Liest oder setzt CDR<footnote>
      <simpara>Call Data Record, siehe <xref
      linkend="glossar-cdr" /></simpara>
    </footnote>-Felder. <code>Feld</code> ist eines der folgenden (wenn nichts
  anders angegeben ist, ist nur Lesen möglich):<variablelist termlength="13">
      <varlistentry>
        <term><code>clid</code></term>

        <listitem>
          <simpara>Caller-ID</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>src</code></term>

        <listitem>
          <simpara>Source, die Caller-ID-Nummer</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>dst</code></term>

        <listitem>
          <simpara>Destination, Ziel-Extension</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>dcontext</code></term>

        <listitem>
          <simpara>Destination Context, der Ziel-Context</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>channel</code></term>

        <listitem>
          <simpara>Der Kanalname</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>dstchannel</code></term>

        <listitem>
          <simpara>Destination Channel, der Ziel-Kanal, falls
          zutreffend</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>lastapp</code></term>

        <listitem>
          <simpara>Die letzte ausgeführte Applikation</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>lastdata</code></term>

        <listitem>
          <simpara>Die Argumente der zuletzt ausgeführten
          Applikation</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>start</code></term>

        <listitem>
          <simpara>Die Start-Zeit des Anrufs</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>answer</code></term>

        <listitem>
          <simpara>Die Zeit, zu der der Anruf beantwortet wurde</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>end</code></term>

        <listitem>
          <simpara>Die Zeit, zu der der Anruf beendet wurde</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>duration</code></term>

        <listitem>
          <simpara>Die Dauer des Anrufs (in Sekunden)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>billsec</code></term>

        <listitem>
          <simpara>Die Dauer des Anrufs seit der Anruf beantwortet wurde, also
          die zu berechnende Zeit (in Sekunden)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>disposition</code></term>

        <listitem>
          <simpara>Der Status des Anrufs: <code>ANSWERED</code>, <code>NO
          ANSWER</code>, <code>BUSY</code> oder <code>FAILED</code></simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>amaflags</code></term>

        <listitem>
          <simpara>Die AMA<footnote>
              <simpara>Automated Message Accounting</simpara>
            </footnote>-Flags: <code>DEFAULT</code> (System-Default),
          <code>BILLING</code> (zur Abrechnung), <code>DOCUMENTATION</code>
          (zur Dokumentierung) oder <code>OMIT</code> (keine Aufzeichnung).
          (Manchmal findet man statt <code>BILLING</code> und
          <code>OMIT</code> auch die Angaben <code>BILL</code> und
          <code>IGNORE</code> &#8211; was eventuell von der Asterisk-Version
          abhängt.)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>accountcode</code></term>

        <listitem>
          <simpara>Die alphanumerische Nummer des Abrechnungskontos, max. 20
          Zeichen. (Sie kann hier auch eingetragen werden.)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>uniqueid</code></term>

        <listitem>
          <simpara>Die einmalige alphanumerische ID des Kanals (max. 32
          Zeichen)</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>userfield</code></term>

        <listitem>
          <simpara>Das User-Feld, in das beliebige Informationen (max. 255
          Zeichen) geschrieben werden können. (Die Informationen können hier
          auch eingetragen werden.)</simpara>
        </listitem>
      </varlistentry>
    </variablelist><programlisting>; foo auf die Dauer des Anrufs setzen:
exten =&gt; 123,1,Set(foo=${CDR(duration)})

; das User-Feld auf "meine Infos" setzen:
exten =&gt; 123,1,Set(CDR(userfield)=meine Infos)</programlisting></para>

  <xi:include href="cdr-help.xml" xpointer="xpointer(/note/*)"
              xmlns:xi="http://www.w3.org/2001/XInclude" />
</section>
