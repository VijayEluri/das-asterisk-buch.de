<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-background" revision="$Revision$">

    <title><code>Background()</code></title>

    <indexterm significance="preferred">
      <primary>Dialplan-Applikationen</primary>

      <secondary><code>Background()</code></secondary>
    </indexterm>

    <simpara>Spielt eine Audiodatei, während Touch-Tone-Ziffern (DTMF-Töne)
    akzeptiert werden.</simpara>

    <synopsis>Background(<replaceable>Datei1</replaceable>[&amp;<replaceable>Datei2</replaceable>...][,<replaceable>Optionen</replaceable>[,<replaceable>Sprache</replaceable>]])</synopsis>

    <simpara>Spielt die angegebene(n) Audiodatei(en), während auf den Start
    der Eingabe einer Extension durch den Benutzer gewartet wird. Sobald der
    Benutzer mit der Eingabe einer Extension begonnen hat, wird die Wiedergabe
    beendet. Der Dateiname sollte ohne Dateiendung angegeben werden, da
    Asterisk dann automatisch das Dateiformat mit den geringsten
    Übersetzungskosten auswählt.</simpara>

    <simpara><code>Optionen</code> ist einer der folgenden Werte (nicht
    kombinierbar):</simpara>

    <variablelist termlength="2">
      <varlistentry>
        <term><code>skip</code></term>

        <listitem>
          <simpara>Die Wiedergabe der Nachricht wird übersprungen, falls sich
          der Channel gegenwärtig nicht im <code>up</code>-Status befindet
          (z.B., weil er bisher nicht beantwortet wurde). Ist
          <code>skip</code> angegeben, wird die Anwendung unverzüglich
          beendet, falls der Channel aufgelegt ist.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>noanswer</code></term>

        <listitem>
          <simpara>Der Channel kann erst beantwortet werden, nachdem die
          angegebene Audiodatei abgespielt wurde. Ist diese Option nicht
          angegeben, wird der Channel automatisch beantwortet, bevor die
          Audiodatei abgespielt wird. Es gilt zu beachten, dass nicht alle
          Kanäle erlauben, vor ihrer Beantwortung eine Nachricht
          abzuspielen.</simpara>
        </listitem>
      </varlistentry>
    </variablelist>

    <simpara>Der Parameter <code>Sprache</code> kann verwendet werden, um eine
    bestimmte Sprache zu definieren, in der Nachrichten abgespielt werden
    sollen, falls diese nicht der für diesen Channel aktuell eingestellten
    Sprache entspricht.</simpara>

    <simpara>Liefert -1 zurück, wenn aufgelegt wurde oder falls der angegebene
    Dateiname nicht existiert, sonst 0.</simpara>

    <programlisting>exten =&gt; 123,1,Answer()
exten =&gt; 123,n,Background(bitte-extension-eingeben)</programlisting>

    <note>
      <formalpara>
        <title>Interner Hilfetext zu dieser Applikation in Asterisk
        1.4:</title>

        <para><screen>  -= Info about application 'BackGround' =- 

[Synopsis]
Play an audio file while waiting for digits of an extension to go to.

[Description]
  Background(filename1[&amp;filename2...][|options[|langoverride][|context]]):
This application will play the given list of files while waiting for an
extension to be dialed by the calling channel. To continue waiting for digits
after this application has finished playing files, the WaitExten application
should be used. The 'langoverride' option explicitly specifies which language
to attempt to use for the requested sound files. If a 'context' is specified,
this is the dialplan context that this application will use when exiting to a
dialed extension.  If one of the requested sound files does not exist, call processing will be
terminated.
  Options:
    s - Causes the playback of the message to be skipped
          if the channel is not in the 'up' state (i.e. it
          hasn't been answered yet). If this happens, the
          application will return immediately.
    n - Don't answer the channel before playing the files.
    m - Only break if a digit hit matches a one digit
          extension in the destination context.</screen></para>
      </formalpara>

      <formalpara>
        <title>Differenz zum internen Hilfetext in Asterisk 1.2:</title>

        <para><screen>5c5
&lt; Play an audio file while waiting for digits of an extension to go to.
---
&gt; Play a file while awaiting extension
12c12
&lt; should be used. The 'langoverride' option explicitly specifies which language
---
&gt; should be used. The 'langoverride' option explicity specifies which language
18c18
&lt;     s - Causes the playback of the message to be skipped
---
&gt;     s - causes the playback of the message to be skipped
20c20
&lt;           hasn't been answered yet). If this happens, the
---
&gt;           hasn't been answered yet.) If this happens, the
22,24c22,24
&lt;     n - Don't answer the channel before playing the files.
&lt;     m - Only break if a digit hit matches a one digit
&lt;           extension in the destination context.
---
&gt;     n - don't answer the channel before playing the files
&gt;     m - only break if a digit hit matches a one digit
&gt;           extension in the destination context</screen></para>
      </formalpara>
    </note>

    <formalpara>
      <title>Siehe auch</title>

      <para><xref linkend="applications-playback" />, <xref
      linkend="applications-backgrounddetect" />, CLI-Befehl <code>show
      translation</code></para>
    </formalpara>
  
</section>
