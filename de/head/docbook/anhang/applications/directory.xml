<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-directory" revision="$Revision$">

    <title><code>Directory()</code></title>

    <indexterm significance="preferred">
      <primary>Dialplan-Applikationen</primary>

      <secondary><code>Directory()</code></secondary>
    </indexterm>

    <simpara>Stellt ein Verzeichnis anwählbarer (Voicemail-)Extensions bereit
    (internes Telefonbuch, Dial-by-name, siehe <xref
    linkend="voicemail-telefonbuch" />).</simpara>

    <synopsis>Directory(<replaceable>VM-Context</replaceable>[,<replaceable>Wähl-Context</replaceable>[,<replaceable>Optionen</replaceable>]])</synopsis>

    <simpara>Liefert Benutzern ein Verzeichnis mit Extensionen, aus dem anhand
    des Namens ausgewählt werden kann. Die Liste von Namen und Extensionen
    findet sich in <filename>voicemail.conf</filename>. Der
    <code>VM-Context</code> muss angegeben werden, er bestimmt den zu
    benutzenden Context aus <filename>voicemail.conf</filename>.</simpara>

    <simpara>Der <code>Wähl-Context</code> bestimmt den zum Anrufen der
    Benutzer zu verwendenden Context. Falls er nicht angegeben ist, wird
    <code>VM-Context</code> angenommen. Momentan ist die einzige mögliche
    Option, die im <code>Optionen</code>-Parameter Verwendung finden kann,
    <code>f</code> (wie first name), die das Verzeichnis veranlasst, die
    Eingabe anhand des Vornamens statt des Nachnamens abzugleichen.</simpara>

    <simpara>Gibt der Benutzer <code>0</code> (Null) ein, und es existiert
    eine Extension o (kleiner Buchstabe o) im aktuellen Context, geht die
    Steuerung des Anrufs an diese Extension über. Durch Drücken der Taste *
    wird analog dazu zur <code>a</code>-Extension übergegangen. Diese
    Verhalten ähnelt dem von <code>Voicemail()</code>.</simpara>

    <simpara>Gibt 0 zurück, es sei denn, der Teilnehmer legt auf.</simpara>

    <programlisting>exten =&gt; *,1,Directory(default,incoming)
exten =&gt; #,1,Directory(default,incoming,f)</programlisting>

    <note>
      <formalpara>
        <title>Interner Hilfetext zu dieser Applikation in Asterisk
        1.4:</title>

        <para><screen>  -= Info about application 'Directory' =- 

[Synopsis]
Provide directory of voicemail extensions

[Description]
  Directory(vm-context[|dial-context[|options]]): This application will present
the calling channel with a directory of extensions from which they can search
by name. The list of names and corresponding extensions is retrieved from the
voicemail configuration file, voicemail.conf.
  This application will immediately exit if one of the following DTMF digits are
received and the extension to jump to exists:
    0 - Jump to the 'o' extension, if it exists.
    * - Jump to the 'a' extension, if it exists.

  Parameters:
    vm-context   - This is the context within voicemail.conf to use for the
                   Directory.
    dial-context - This is the dialplan context to use when looking for an
                   extension that the user has selected, or when jumping to the
                   'o' or 'a' extension.

  Options:
    e - In addition to the name, also read the extension number to the
        caller before presenting dialing options.
    f - Allow the caller to enter the first name of a user in the directory
        instead of using the last name.</screen></para>
      </formalpara>

      <formalpara>
        <title>Differenz zum internen Hilfetext in Asterisk 1.2:</title>

        <para><screen>25,26d24
&lt;     e - In addition to the name, also read the extension number to the
&lt;         caller before presenting dialing options.</screen></para>
      </formalpara>
    </note>

    <formalpara>
      <title>Siehe auch</title>

      <para><filename>voicemail.conf</filename></para>
    </formalpara>
  
</section>
