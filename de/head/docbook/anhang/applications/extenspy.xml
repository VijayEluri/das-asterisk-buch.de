<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-extenspy" lang="de" revision="$Revision$">
  <!--
% Copyright (c) 2006 - 2008 by 
% Stefan Wintermeyer <stefan.wintermeyer@amooma.de>
% Philipp Kempgen <philipp.kempgen@amooma.de>
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.2
% or any later version published by the Free Software Foundation
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
% Texts. A copy of the license is included in the section entitled "GNU
% Free Documentation License".
% Asterisk training and consulting is offered at http://www.amooma.de
-->

    <title><literal>ExtenSpy()</literal></title>

    <indexterm significance="preferred">
      <primary>Dialplan-Applikationen</primary>

      <secondary><code>ExtenSpy()</code></secondary>
    </indexterm>

    <simpara>Einen Kanal belauschen und bei Bedarf reinflüstern.</simpara>

    <synopsis>ExtenSpy(<replaceable>Extension</replaceable>[@<replaceable>Context</replaceable>][,<replaceable>Optionen</replaceable>])</synopsis>

    <simpara><code>ExtenSpy()</code> kann auf Channels zu der angegebenen
    Extension geschaltet werden um das ein- und ausgehende Audio mitzuhören.
    Optionen:</simpara>

    <variablelist termlength="11">
      <varlistentry>
        <term><code>b</code></term>

        <listitem>
          <simpara>Nur Channels abhören, die zu einem verbundenen Anruf
          gehören.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>g(<replaceable>grp</replaceable>)</code></term>

        <listitem>
          <simpara>Nur Channels abhören, bei denen in deren Kanal-Variable
          <code>${SPYGROUP}</code> die Gruppe <code>grp</code> enthalten ist.
          <code>${SPYGROUP}</code> kann eine durch <code>:</code> getrennt
          Liste von Werten sein.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>q</code></term>

        <listitem>
          <simpara>Keinen Ton beim Beginn abspielen.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>r([<replaceable>name</replaceable>])</code></term>

        <listitem>
          <simpara>Abgehörte Gespräche werde im Spool-Verzeichnis
          aufgezeichnet. Bei Bedarf kann mit <code>name</code> ein Dateiname
          (ohne Erweiterung) eingestellt werden, Default ist
          <filename>chanspy</filename>.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>v([<replaceable>wert</replaceable>])</code></term>

        <listitem>
          <simpara>Verändert die anfängliche Lautstärke. Die Werte reichen von
          -4 bis 4.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>w</code></term>

        <listitem>
          <simpara>Aktiviert den Flüster-Modus (whisper mode). So kann man in
          den abgehörten Channel reinflüstern.</simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><code>W</code></term>

        <listitem>
          <simpara>Aktiviert <quote>private whisper mode</quote>. So kann man
          zwar in den abgehörten Channel sprechen, diesen aber nicht
          hören.</simpara>
        </listitem>
      </varlistentry>
    </variablelist>

    <para>Während des Abhörens können folgende Tastenbefehle gegeben
    werden:<variablelist termlength="6">
        <varlistentry>
          <term><code>#</code></term>

          <listitem>
            <simpara>Schaltet durch die Lautstärkeeinstellung (-4 bis
            4)</simpara>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><code>*</code></term>

          <listitem>
            <simpara>Schaltet zu einem anderen Channel</simpara>
          </listitem>
        </varlistentry>
      </variablelist></para>

    <note>
      <formalpara>
        <title>Interner Hilfetext zu dieser Applikation in Asterisk
        1.4:</title>

        <para><screen>  -= Info about application 'ExtenSpy' =- 

[Synopsis]
Listen to a channel, and optionally whisper into it

[Description]
  ExtenSpy(exten[@context][|options]): This application is used to listen to the
audio from an Asterisk channel. This includes the audio coming in and
out of the channel being spied on. Only channels created by outgoing calls for the
specified extension will be selected for spying. If the optional context is not
supplied, the current channel's context will be used.
  While spying, the following actions may be performed:
    - Dialing # cycles the volume level.
    - Dialing * will stop spying and look for another channel to spy on.
  Options:
    b             - Only spy on channels involved in a bridged call.
    g(grp)        - Match only channels where their ${SPYGROUP} variable is set to
                    contain 'grp' in an optional : delimited list.
    q             - Don't play a beep when beginning to spy on a channel, or speak the
                    selected channel name.
    r[(basename)] - Record the session to the monitor spool directory. An
                    optional base for the filename may be specified. The
                    default is 'chanspy'.
    v([value])    - Adjust the initial volume in the range from -4 to 4. A
                    negative value refers to a quieter setting.
    w             - Enable 'whisper' mode, so the spying channel can talk to
                    the spied-on channel.
    W             - Enable 'private whisper' mode, so the spying channel can
                    talk to the spied-on channel but cannot listen to that
                    channel.</screen></para>
      </formalpara>

      <formalpara>
        <title>Differenz zum internen Hilfetext in Asterisk 1.2:</title>

        <para><screen>-- in Version 1.2 nicht vorhanden --</screen></para>
      </formalpara>
    </note>

    <formalpara>
      <title>Siehe auch</title>

      <para><xref linkend="applications-chanspy" />, <xref
      linkend="applications-zapbarge" />, <xref
      linkend="applications-zapscan" />, <xref
      linkend="applications-monitor" /></para>
    </formalpara>
</section>
