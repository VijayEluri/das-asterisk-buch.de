<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
"http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd">
<section id="applications-waitforsilence" revision="$Revision$">
    <title><literal>WaitForSilence()</literal></title>

    <indexterm significance="preferred">
      <primary>Dialplan-Applikationen</primary>

      <secondary><code>WaitForSilence()</code></secondary>
    </indexterm>

    <simpara>Wartet auf eine festgelegte Dauer von Stille.</simpara>

    <synopsis>WaitForSilence(<replaceable>Dauer</replaceable>[,<replaceable>Wiederholungen</replaceable>])</synopsis>

    <simpara>Wartet auf <code>Dauer</code> Millisekunden Stille. Mit der
    Angabe von <code>Wiederholungen</code> wird auf soviele Auftreten von
    Stille gewartet, sonst auf das einmalige Auftreten.</simpara>

    <programlisting>; auf 2 Vorkommen von Stille von jeweils 500 ms warten:
exten =&gt; 123,1,WaitForSilence(500,2)
exten =&gt; 123,n,Playback(tt-weasels)</programlisting>

    <note>
      <formalpara>
        <title>Interner Hilfetext zu dieser Applikation in Asterisk
        1.4:</title>

        <para><screen>  -= Info about application 'WaitForSilence' =- 

[Synopsis]
Waits for a specified amount of silence

[Description]
  WaitForSilence(silencerequired[|iterations][|timeout]) 
Wait for Silence: Waits for up to 'silencerequired' 
milliseconds of silence, 'iterations' times or once if omitted.
An optional timeout specified the number of seconds to return
after, even if we do not receive the specified amount of silence.
Use 'timeout' with caution, as it may defeat the purpose of this
application, which is to wait indefinitely until silence is detected
on the line.  This is particularly useful for reverse-911-type
call broadcast applications where you need to wait for an answering
machine to complete its spiel before playing a message.
The timeout parameter is specified only to avoid an infinite loop in
cases where silence is never achieved.  Typically you will want to
include two or more calls to WaitForSilence when dealing with an answering
machine; first waiting for the spiel to finish, then waiting for the beep, etc.

Examples:
  - WaitForSilence(500|2) will wait for 1/2 second of silence, twice
  - WaitForSilence(1000) will wait for 1 second of silence, once
  - WaitForSilence(300|3|10) will wait for 300ms silence, 3 times,
     and returns after 10 sec, even if silence is not detected

Sets the channel variable WAITSTATUS with to one of these values:
SILENCE - if exited with silence detected
TIMEOUT - if exited without silence detected after timeout</screen></para>
      </formalpara>

      <formalpara>
        <title>Differenz zum internen Hilfetext in Asterisk 1.2:</title>

        <para><screen>8,23c8,10
&lt;   WaitForSilence(silencerequired[|iterations][|timeout]) 
&lt; Wait for Silence: Waits for up to 'silencerequired' 
&lt; milliseconds of silence, 'iterations' times or once if omitted.
&lt; An optional timeout specified the number of seconds to return
&lt; after, even if we do not receive the specified amount of silence.
&lt; Use 'timeout' with caution, as it may defeat the purpose of this
&lt; application, which is to wait indefinitely until silence is detected
&lt; on the line.  This is particularly useful for reverse-911-type
&lt; call broadcast applications where you need to wait for an answering
&lt; machine to complete its spiel before playing a message.
&lt; The timeout parameter is specified only to avoid an infinite loop in
&lt; cases where silence is never achieved.  Typically you will want to
&lt; include two or more calls to WaitForSilence when dealing with an answering
&lt; machine; first waiting for the spiel to finish, then waiting for the beep, etc.
&lt; 
&lt; Examples:
---
&gt;   WaitForSilence(x[|y]) Wait for Silence: Waits for up to 'x' 
&gt; milliseconds of silence, 'y' times or 1 if omitted
&gt; Set the channel variable WAITSTATUS with to one of these values:SILENCE - if silence of x ms was detectedTIMEOUT - if silence of x ms was not detected.Examples:
26,31d12
&lt;   - WaitForSilence(300|3|10) will wait for 300ms silence, 3 times,
&lt;      and returns after 10 sec, even if silence is not detected
&lt; 
&lt; Sets the channel variable WAITSTATUS with to one of these values:
&lt; SILENCE - if exited with silence detected
&lt; TIMEOUT - if exited without silence detected after timeout</screen></para>
      </formalpara>
    </note>
</section>
